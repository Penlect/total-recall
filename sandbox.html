<head>

</head>

<body>

<table border="1" >
<tr>
<td><input class="recall_input" id="recall_input_0" type="text" maxlength="1"></input></td>
<td><input class="recall_input" id="recall_input_1" type="text" maxlength="1"></input></td>
<td><input class="recall_input" id="recall_input_2" type="text" maxlength="1"></input></td>
</tr>
<tr>
<td><input class="recall_input" id="recall_input_3" type="text" maxlength="1"></input></td>
<td><input class="recall_input" id="recall_input_4" type="text" maxlength="1"></input></td>
<td><input class="recall_input" id="recall_input_5" type="text" maxlength="1"></input></td>
</tr>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script>
$(document).ready(function(){

   // User clicks on a cell
   $('.recall_input').keydown(function(e) {
	   e.preventDefault();
	   console.log("Key pressed = " + e.which)
	   
		switch(e.which) {
			case 48: // 0
			case 49:
			case 50:
			case 51:
			case 52:
			case 53:
			case 54:
			case 55:
			case 56:
			case 57: // 9
				console.log("NUMERIC KEY");
				var digit = e.which - 48;
			   $(this).val(digit);
			   var current_id = $(this).attr('id');
			   console.log(current_id);
			   var new_id = current_id.replace( /(\d+)/, function(){return Math.min(arguments[1]*1+1, 5) });
			   console.log(new_id);
			   $('#' + new_id).select();
				break;
			case 39: // Right Arrow
			   var current_id = $(this).attr('id');
			   console.log(current_id);
			   var new_id = current_id.replace( /(\d+)/, function(){return Math.min(arguments[1]*1+1, 5) });
			   console.log(new_id);
			   $('#' + new_id).select();
				break;
			case 37: // Left Arrow
			   var current_id = $(this).attr('id');
			   console.log(current_id);
			   var new_id = current_id.replace( /(\d+)/, function(){return Math.max(arguments[1]*1-1, 0) });
			   console.log(new_id);
			   $('#' + new_id).select();
				break;
			case 38: // Up Arrow
			   var current_id = $(this).attr('id');
			   console.log(current_id);
			   var new_id = current_id.replace( /(\d+)/, function(){return Math.max(arguments[1]*1-3, 0) });
			   console.log(new_id);
			   $('#' + new_id).select();
				break;
			case 40: // Down Arrow
			   var current_id = $(this).attr('id');
			   console.log(current_id);
			   var new_id = current_id.replace( /(\d+)/, function(){return Math.min(arguments[1]*1+3, 5) });
			   console.log(new_id);
			   $('#' + new_id).select();
				break;
			default:
				console.log("INVALID KEY");
		}
   });

   // User navigates table using keyboard
   $('tabldfge').keydown(function (e) {
       var c = "";
       if (e.which == 39) {
           // Right Arrow
           c = currCell.next();
       } else if (e.which == 37) { 
           // Left Arrow
           c = currCell.prev();
       } else if (e.which == 38) { 
           // Up Arrow
           c = currCell.closest('tr').prev().find('td:eq(' + 
             currCell.index() + ')');
       } else if (e.which == 40) { 
           // Down Arrow
           c = currCell.closest('tr').next().find('td:eq(' + 
             currCell.index() + ')');
       } else if (e.which == 13) { 
           // Enter
           e.preventDefault();
           c = currCell.closest('tr').next().find('td:eq(' + 
             currCell.index() + ')');
       } else if (!editing && (e.which == 13 || e.which == 32)) { 
           // Enter or Spacebar - edit cell
           e.preventDefault();
           edit();
       } else if (!editing && (e.which == 9 && !e.shiftKey)) { 
           // Tab
           e.preventDefault();
           c = currCell.next();
       } else if (!editing && (e.which == 9 && e.shiftKey)) { 
           // Shift + Tab
           e.preventDefault();
           c = currCell.prev();
       } 

       // If we didn't hit a boundary, update the current cell
       if (c.length > 0) {
           currCell = c;
           currCell.focus();
       }
   });

   // User can cancel edit by pressing escape
   $('#edit').keydown(function (e) {
       if (editing && e.which == 27) { 
           editing = false;
           $('#edit').hide();
           currCell.toggleClass("editing");
           currCell.focus();
       }
   });
});
</script>
</body>